(chrome.action||chrome.browserAction).onClicked.addListener((o=>{chrome.tabs.sendMessage(o.id,{action:"iconClicked"})})),chrome.runtime.onMessage.addListener(((o,n,e)=>{"downloadImage"===o.action&&chrome.downloads.download({url:o.url,conflictAction:"uniquify",saveAs:!0})})),chrome.tabs.onUpdated.addListener(((o,n,e)=>{if("complete"===n.status){const o="parents.codmon.com";e.url.includes(o)?chrome.action.setIcon({path:"icons/icon128.png",tabId:e.id}):chrome.action.setIcon({path:"icons/icon_bw128.png",tabId:e.id})}}));